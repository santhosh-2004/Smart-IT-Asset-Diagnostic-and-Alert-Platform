{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dines\\\\OneDrive\\\\Desktop\\\\Schneider\\\\Schneider\\\\src\\\\components\\\\FloorLayout.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { factoryFloorData } from '../data/mockData';\nimport PCDot from './PCDot';\nimport { getPCStatus } from '../utils/statusUtils';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst pcPositions = {\n  'line1_pc1': {\n    x: 8,\n    y: 55\n  },\n  // Line 1 PC1\n  'line1_pc2': {\n    x: 22,\n    y: 55\n  },\n  // Line 1 PC2\n  'line2_pc1': {\n    x: 8,\n    y: 55\n  },\n  // Line 2 PC1\n  'line2_pc2': {\n    x: 22,\n    y: 55\n  } // Line 2 PC2\n};\nconst FloorLayout = ({\n  onPCClick,\n  selectedPC,\n  pcs,\n  onUpdatePC,\n  userRole,\n  moveMode,\n  onMoveModeChange\n}) => {\n  _s();\n  const {\n    floorDimensions,\n    productionLines\n  } = factoryFloorData;\n  const [draggedPC, setDraggedPC] = useState(null);\n  const [isDragging, setIsDragging] = useState(false);\n  const [dragPosition, setDragPosition] = useState({\n    x: 0,\n    y: 0\n  });\n  const [originalPosition, setOriginalPosition] = useState(null);\n  const [showConfirm, setShowConfirm] = useState(false);\n  const [pendingPC, setPendingPC] = useState(null);\n  const [legendOpen, setLegendOpen] = useState(false);\n  const [areaFilter, setAreaFilter] = useState('all'); // 'all', 'welding', 'assembly', 'finishing'\n\n  const isAdmin = userRole === 'admin';\n  const handleMouseDown = (e, pc) => {\n    if (!isAdmin || !moveMode) return;\n    const rect = e.currentTarget.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    setDraggedPC(pc);\n    setIsDragging(true);\n    setDragPosition({\n      x: pc.x,\n      y: pc.y\n    });\n    setOriginalPosition({\n      x: pc.x,\n      y: pc.y\n    });\n    e.preventDefault();\n  };\n  const handleMouseMove = e => {\n    if (!isDragging || !draggedPC) return;\n    const rect = e.currentTarget.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n\n    // Constrain to floor boundaries\n    const constrainedX = Math.max(20, Math.min(x, floorDimensions.width - 20));\n    const constrainedY = Math.max(20, Math.min(y, floorDimensions.height - 20));\n    setDragPosition({\n      x: constrainedX,\n      y: constrainedY\n    });\n  };\n  const handleMouseUp = () => {\n    if (!isDragging || !draggedPC) return;\n\n    // Prepare the updated PC but do not save yet\n    const updatedPC = {\n      ...draggedPC,\n      x: dragPosition.x,\n      y: dragPosition.y\n    };\n    setPendingPC(updatedPC);\n    setShowConfirm(true);\n    setIsDragging(false);\n    setDraggedPC(null);\n    // Do not exit move mode yet\n  };\n  const handleConfirm = save => {\n    if (save && pendingPC) {\n      onUpdatePC(pendingPC);\n    } else if (!save && pendingPC) {\n      // Revert: call onUpdatePC with original position\n      onUpdatePC({\n        ...pendingPC,\n        x: originalPosition.x,\n        y: originalPosition.y\n      });\n    }\n    setShowConfirm(false);\n    setPendingPC(null);\n    setOriginalPosition(null);\n    onMoveModeChange(false);\n  };\n  const handlePCClick = pc => {\n    if (moveMode) {\n      // In move mode, don't open modal, just allow dragging\n      return;\n    }\n    // Normal click behavior - open modal\n    onPCClick(pc);\n  };\n\n  // Get area name for the filter\n  const getAreaName = () => {\n    if (areaFilter === 'welding') return 'Welding Line';\n    if (areaFilter === 'assembly') return 'Assembly Lines';\n    if (areaFilter === 'finishing') return 'Finishing Lines';\n    return '';\n  };\n\n  // Get PCs for the selected area\n  const getFilteredPCs = () => {\n    if (areaFilter === 'welding') return [];\n    if (areaFilter === 'assembly') return pcs.filter(pc => ['assembly-line-1', 'assembly-line-2', 'assembly-line-3'].includes(pc.productionLine));\n    if (areaFilter === 'finishing') return pcs.filter(pc => ['finishing-line-1', 'finishing-line-2'].includes(pc.productionLine));\n    return [];\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-gray-900 p-6 rounded-lg border border-gray-700\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-semibold text-gray-100 mb-2\",\n        children: \"Factory Floor Layout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-400 text-sm\",\n        children: moveMode ? \"Move Mode Active - Click and drag PCs to move them\" : \"Blueprint view of production lines and PC locations\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), moveMode && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2 p-2 bg-yellow-600 bg-opacity-20 border border-yellow-600 rounded text-yellow-300 text-sm\",\n        children: \"\\uD83C\\uDFAF Move Mode: Click and drag PCs to reposition them. Click outside to exit move mode.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"overflow-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative floor-grid bg-gray-800 border-2 border-floor-border rounded-lg overflow-hidden\",\n        style: {\n          width: floorDimensions.width,\n          height: floorDimensions.height,\n          minWidth: '100%'\n        },\n        onMouseMove: handleMouseMove,\n        onMouseUp: handleMouseUp,\n        onMouseLeave: handleMouseUp,\n        onClick: () => {\n          if (moveMode) {\n            onMoveModeChange(false);\n          }\n        },\n        children: [areaFilter !== 'all' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fixed inset-0 bg-black bg-opacity-30 z-40 transition-opacity duration-300\",\n          onClick: () => setAreaFilter('all')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `fixed top-0 right-0 h-full w-96 max-w-full z-50 flex flex-col shadow-2xl transition-transform duration-500 bg-gray-900 border-l border-gray-800 ${areaFilter !== 'all' ? 'translate-x-0' : 'translate-x-full'}`,\n          style: {\n            minWidth: 350\n          },\n          children: areaFilter !== 'all' && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between px-6 py-4 border-b border-gray-700 bg-gray-900 rounded-t-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-lg font-bold text-gray-100\",\n                children: getAreaName()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"text-gray-400 hover:text-red-500 text-2xl font-bold px-2 py-1 rounded focus:outline-none\",\n                onClick: () => setAreaFilter('all'),\n                title: \"Close Inventory\",\n                children: \"\\xD7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1 overflow-y-auto p-6 space-y-4 bg-gray-900\",\n              children: getFilteredPCs().length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-gray-400 text-center mt-8\",\n                children: \"No PCs in this area.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 21\n              }, this) : getFilteredPCs().map(pc => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-white bg-opacity-5 rounded-lg shadow p-4 flex items-center space-x-4 hover:bg-opacity-10 transition cursor-pointer\",\n                onClick: () => handlePCClick(pc),\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `w-3 h-3 rounded-full ${getPCStatus(pc.lastReboot).status === 'red' ? 'bg-red-500' : getPCStatus(pc.lastReboot).status === 'yellow' ? 'bg-yellow-400' : 'bg-green-500'}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"font-semibold text-gray-100\",\n                    children: pc.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 172,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs text-gray-400\",\n                    children: [\"IP: \", pc.ipAddress]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 173,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs px-2 py-1 rounded-full font-bold bg-gray-800 text-gray-200 border border-gray-700\",\n                  children: getPCStatus(pc.lastReboot).label\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 25\n                }, this)]\n              }, pc.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this), productionLines.filter(line => {\n          if (areaFilter === 'all') return true;\n          if (areaFilter === 'welding') return line.id === 'welding-line';\n          if (areaFilter === 'assembly') return ['assembly-line-1', 'assembly-line-2', 'assembly-line-3'].includes(line.id);\n          if (areaFilter === 'finishing') return ['finishing-line-1', 'finishing-line-2'].includes(line.id);\n          return true;\n        }).map(line => {\n          // Get PCs for this line (only for finishing lines)\n          const pcsInBox = line.id.startsWith('finishing') ? pcs.filter(pc => pc.productionLine === line.id) : [];\n          // Area highlight logic\n          const isHighlighted = areaFilter === 'welding' && line.id === 'welding-line' || areaFilter === 'assembly' && ['assembly-line-1', 'assembly-line-2', 'assembly-line-3'].includes(line.id) || areaFilter === 'finishing' && ['finishing-line-1', 'finishing-line-2'].includes(line.id);\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `absolute z-10 bg-opacity-30 border-2 rounded flex items-center justify-center transition-all duration-300\n                  ${line.id.includes('welding') ? 'bg-red-900 border-red-600' : line.id.includes('assembly') ? 'bg-blue-900 border-blue-600' : 'bg-green-900 border-green-600'}\n                  ${areaFilter !== 'all' && isHighlighted ? 'ring-2 ring-yellow-200' : ''}\n                  ${areaFilter !== 'all' && !isHighlighted ? 'opacity-40 grayscale' : ''}`,\n            style: {\n              left: line.x,\n              top: line.y,\n              width: line.width,\n              height: line.height,\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              textAlign: 'center',\n              boxShadow: areaFilter !== 'all' && isHighlighted ? '0 0 8px 2px #fde68a' : 'none',\n              transition: 'all 0.4s cubic-bezier(0.4,0,0.2,1)'\n            },\n            children: line.id.startsWith('finishing') && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                position: 'relative',\n                width: '100%',\n                height: '100%'\n              },\n              children: pcsInBox.map((pc, idx) => {\n                // Use the exact coordinates from pcPositions object\n                const position = pcPositions[pc.name];\n                // Safety check - if position is undefined, skip rendering this PC\n                if (!position) {\n                  console.warn(`No position found for PC: ${pc.name}`);\n                  return null;\n                }\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    position: 'absolute',\n                    left: position.x,\n                    top: position.y,\n                    transform: 'translate(-50%, -50%)'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(PCDot, {\n                    pc: {\n                      ...pc,\n                      x: position.x,\n                      y: position.y\n                    },\n                    onClick: () => handlePCClick(pc),\n                    isSelected: (selectedPC === null || selectedPC === void 0 ? void 0 : selectedPC.id) === pc.id,\n                    onMouseDown: e => handleMouseDown(e, pc),\n                    isDraggable: isAdmin && moveMode,\n                    moveMode: moveMode\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 234,\n                    columnNumber: 27\n                  }, this)\n                }, pc.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 25\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 19\n            }, this)\n          }, line.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 15\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute left-1/2 transform -translate-x-1/2 bottom-4 z-50\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"bg-gray-800 border border-gray-600 rounded-lg px-4 py-2 text-xs text-gray-200 font-semibold focus:outline-none focus:ring-2 focus:ring-blue-500\",\n            onClick: () => setLegendOpen(open => !open),\n            children: legendOpen ? 'Hide Box Color Legend' : 'Show Box Color Legend'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 13\n          }, this), legendOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 bg-gray-800 border border-gray-600 rounded-lg p-3 text-xs flex flex-col items-start min-w-[220px] z-50\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-semibold text-gray-300 mb-2\",\n              children: \"Box Color Legend\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"flex items-center mb-1 hover:bg-gray-700 px-2 py-1 rounded w-full text-left\",\n              onClick: () => setAreaFilter('welding'),\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-5 h-5 bg-red-900 border-2 border-red-600 rounded mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-200\",\n                children: \"Welding Line\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"flex items-center mb-1 hover:bg-gray-700 px-2 py-1 rounded w-full text-left\",\n              onClick: () => setAreaFilter('assembly'),\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-5 h-5 bg-blue-900 border-2 border-blue-600 rounded mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-200\",\n                children: \"Assembly Line\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"flex items-center hover:bg-gray-700 px-2 py-1 rounded w-full text-left\",\n              onClick: () => setAreaFilter('finishing'),\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-5 h-5 bg-green-900 border-2 border-green-600 rounded mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-200\",\n                children: \"Finishing Line\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"mt-2 bg-blue-700 hover:bg-blue-800 text-white px-3 py-1 rounded w-full text-xs font-semibold\",\n              onClick: () => setAreaFilter('all'),\n              children: \"Show Full Layout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 11\n        }, this), isDragging && draggedPC && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute w-4 h-4 rounded-full border-2 border-white shadow-lg cursor-grabbing opacity-75\",\n          style: {\n            left: dragPosition.x,\n            top: dragPosition.y,\n            transform: 'translate(-50%, -50%)',\n            backgroundColor: '#10b981',\n            // Green color\n            zIndex: 1000\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded whitespace-nowrap\",\n            children: [\"Moving: \", draggedPC.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 13\n        }, this), showConfirm && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute inset-0 flex items-center justify-center z-50 bg-black bg-opacity-40\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-900 border border-gray-600 rounded-lg p-6 text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-white mb-4\",\n              children: \"Do you want to save the new position?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded mr-2\",\n              onClick: () => handleConfirm(true),\n              children: \"Yes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded\",\n              onClick: () => handleConfirm(false),\n              children: \"No\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 5\n  }, this);\n};\n_s(FloorLayout, \"qNnGx0qrg/xfAZplIcxLDGaY1Yc=\");\n_c = FloorLayout;\nexport default FloorLayout;\nvar _c;\n$RefreshReg$(_c, \"FloorLayout\");","map":{"version":3,"names":["React","useState","factoryFloorData","PCDot","getPCStatus","jsxDEV","_jsxDEV","Fragment","_Fragment","pcPositions","x","y","FloorLayout","onPCClick","selectedPC","pcs","onUpdatePC","userRole","moveMode","onMoveModeChange","_s","floorDimensions","productionLines","draggedPC","setDraggedPC","isDragging","setIsDragging","dragPosition","setDragPosition","originalPosition","setOriginalPosition","showConfirm","setShowConfirm","pendingPC","setPendingPC","legendOpen","setLegendOpen","areaFilter","setAreaFilter","isAdmin","handleMouseDown","e","pc","rect","currentTarget","getBoundingClientRect","clientX","left","clientY","top","preventDefault","handleMouseMove","constrainedX","Math","max","min","width","constrainedY","height","handleMouseUp","updatedPC","handleConfirm","save","handlePCClick","getAreaName","getFilteredPCs","filter","includes","productionLine","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","minWidth","onMouseMove","onMouseUp","onMouseLeave","onClick","title","length","map","lastReboot","status","name","ipAddress","label","id","line","pcsInBox","startsWith","isHighlighted","display","alignItems","justifyContent","textAlign","boxShadow","transition","position","idx","console","warn","transform","isSelected","onMouseDown","isDraggable","open","backgroundColor","zIndex","_c","$RefreshReg$"],"sources":["C:/Users/dines/OneDrive/Desktop/Schneider/Schneider/src/components/FloorLayout.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { factoryFloorData } from '../data/mockData';\nimport PCDot from './PCDot';\nimport { getPCStatus } from '../utils/statusUtils';\n\nconst pcPositions = {\n  'line1_pc1':     { x: 8,  y: 55 },  // Line 1 PC1\n  'line1_pc2':     { x: 22, y: 55 },  // Line 1 PC2\n  'line2_pc1':     { x: 8,  y: 55 },  // Line 2 PC1\n  'line2_pc2':     { x: 22, y: 55 }   // Line 2 PC2\n};\n\nconst FloorLayout = ({ onPCClick, selectedPC, pcs, onUpdatePC, userRole, moveMode, onMoveModeChange }) => {\n  const { floorDimensions, productionLines } = factoryFloorData;\n  const [draggedPC, setDraggedPC] = useState(null);\n  const [isDragging, setIsDragging] = useState(false);\n  const [dragPosition, setDragPosition] = useState({ x: 0, y: 0 });\n  const [originalPosition, setOriginalPosition] = useState(null);\n  const [showConfirm, setShowConfirm] = useState(false);\n  const [pendingPC, setPendingPC] = useState(null);\n  const [legendOpen, setLegendOpen] = useState(false);\n  const [areaFilter, setAreaFilter] = useState('all'); // 'all', 'welding', 'assembly', 'finishing'\n\n  const isAdmin = userRole === 'admin';\n\n  const handleMouseDown = (e, pc) => {\n    if (!isAdmin || !moveMode) return;\n    \n    const rect = e.currentTarget.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    \n    setDraggedPC(pc);\n    setIsDragging(true);\n    setDragPosition({ x: pc.x, y: pc.y });\n    setOriginalPosition({ x: pc.x, y: pc.y });\n    \n    e.preventDefault();\n  };\n\n  const handleMouseMove = (e) => {\n    if (!isDragging || !draggedPC) return;\n    \n    const rect = e.currentTarget.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    \n    // Constrain to floor boundaries\n    const constrainedX = Math.max(20, Math.min(x, floorDimensions.width - 20));\n    const constrainedY = Math.max(20, Math.min(y, floorDimensions.height - 20));\n    \n    setDragPosition({ x: constrainedX, y: constrainedY });\n  };\n\n  const handleMouseUp = () => {\n    if (!isDragging || !draggedPC) return;\n    \n    // Prepare the updated PC but do not save yet\n    const updatedPC = {\n      ...draggedPC,\n      x: dragPosition.x,\n      y: dragPosition.y\n    };\n    setPendingPC(updatedPC);\n    setShowConfirm(true);\n    setIsDragging(false);\n    setDraggedPC(null);\n    // Do not exit move mode yet\n  };\n\n  const handleConfirm = (save) => {\n    if (save && pendingPC) {\n      onUpdatePC(pendingPC);\n    } else if (!save && pendingPC) {\n      // Revert: call onUpdatePC with original position\n      onUpdatePC({ ...pendingPC, x: originalPosition.x, y: originalPosition.y });\n    }\n    setShowConfirm(false);\n    setPendingPC(null);\n    setOriginalPosition(null);\n    onMoveModeChange(false);\n  };\n\n  const handlePCClick = (pc) => {\n    if (moveMode) {\n      // In move mode, don't open modal, just allow dragging\n      return;\n    }\n    // Normal click behavior - open modal\n    onPCClick(pc);\n  };\n\n  // Get area name for the filter\n  const getAreaName = () => {\n    if (areaFilter === 'welding') return 'Welding Line';\n    if (areaFilter === 'assembly') return 'Assembly Lines';\n    if (areaFilter === 'finishing') return 'Finishing Lines';\n    return '';\n  };\n\n  // Get PCs for the selected area\n  const getFilteredPCs = () => {\n    if (areaFilter === 'welding') return [];\n    if (areaFilter === 'assembly') return pcs.filter(pc => ['assembly-line-1','assembly-line-2','assembly-line-3'].includes(pc.productionLine));\n    if (areaFilter === 'finishing') return pcs.filter(pc => ['finishing-line-1','finishing-line-2'].includes(pc.productionLine));\n    return [];\n  };\n\n  return (\n    <div className=\"bg-gray-900 p-6 rounded-lg border border-gray-700\">\n      <div className=\"mb-4\">\n        <h2 className=\"text-xl font-semibold text-gray-100 mb-2\">Factory Floor Layout</h2>\n        <p className=\"text-gray-400 text-sm\">\n          {moveMode \n            ? \"Move Mode Active - Click and drag PCs to move them\" \n            : \"Blueprint view of production lines and PC locations\"\n          }\n        </p>\n        {moveMode && (\n          <div className=\"mt-2 p-2 bg-yellow-600 bg-opacity-20 border border-yellow-600 rounded text-yellow-300 text-sm\">\n            🎯 Move Mode: Click and drag PCs to reposition them. Click outside to exit move mode.\n          </div>\n        )}\n      </div>\n      \n      <div className=\"overflow-auto\">\n        <div \n          className=\"relative floor-grid bg-gray-800 border-2 border-floor-border rounded-lg overflow-hidden\"\n          style={{\n            width: floorDimensions.width,\n            height: floorDimensions.height,\n            minWidth: '100%'\n          }}\n          onMouseMove={handleMouseMove}\n          onMouseUp={handleMouseUp}\n          onMouseLeave={handleMouseUp}\n          onClick={() => {\n            if (moveMode) {\n              onMoveModeChange(false);\n            }\n          }}\n        >\n          {/* Overlay for drawer */}\n          {areaFilter !== 'all' && (\n            <div className=\"fixed inset-0 bg-black bg-opacity-30 z-40 transition-opacity duration-300\" onClick={() => setAreaFilter('all')} />\n          )}\n          {/* Sliding Drawer Panel */}\n          <div\n            className={`fixed top-0 right-0 h-full w-96 max-w-full z-50 flex flex-col shadow-2xl transition-transform duration-500 bg-gray-900 border-l border-gray-800 ${areaFilter !== 'all' ? 'translate-x-0' : 'translate-x-full'}`}\n            style={{ minWidth: 350 }}\n          >\n            {areaFilter !== 'all' && (\n              <>\n                <div className=\"flex items-center justify-between px-6 py-4 border-b border-gray-700 bg-gray-900 rounded-t-lg\">\n                  <span className=\"text-lg font-bold text-gray-100\">{getAreaName()}</span>\n                  <button\n                    className=\"text-gray-400 hover:text-red-500 text-2xl font-bold px-2 py-1 rounded focus:outline-none\"\n                    onClick={() => setAreaFilter('all')}\n                    title=\"Close Inventory\"\n                  >\n                    ×\n                  </button>\n                </div>\n                <div className=\"flex-1 overflow-y-auto p-6 space-y-4 bg-gray-900\">\n                  {getFilteredPCs().length === 0 ? (\n                    <div className=\"text-gray-400 text-center mt-8\">No PCs in this area.</div>\n                  ) : (\n                    getFilteredPCs().map(pc => (\n                      <div key={pc.id} className=\"bg-white bg-opacity-5 rounded-lg shadow p-4 flex items-center space-x-4 hover:bg-opacity-10 transition cursor-pointer\" onClick={() => handlePCClick(pc)}>\n                        <div className={`w-3 h-3 rounded-full ${getPCStatus(pc.lastReboot).status === 'red' ? 'bg-red-500' : getPCStatus(pc.lastReboot).status === 'yellow' ? 'bg-yellow-400' : 'bg-green-500'}`}></div>\n                        <div className=\"flex-1\">\n                          <div className=\"font-semibold text-gray-100\">{pc.name}</div>\n                          <div className=\"text-xs text-gray-400\">IP: {pc.ipAddress}</div>\n                        </div>\n                        <div className=\"text-xs px-2 py-1 rounded-full font-bold bg-gray-800 text-gray-200 border border-gray-700\">\n                          {getPCStatus(pc.lastReboot).label}\n                        </div>\n                      </div>\n                    ))\n                  )}\n                </div>\n              </>\n            )}\n          </div>\n\n          {/* Filtered Production Lines with highlight/fade logic and PCs inside boxes */}\n          {productionLines.filter(line => {\n            if (areaFilter === 'all') return true;\n            if (areaFilter === 'welding') return line.id === 'welding-line';\n            if (areaFilter === 'assembly') return ['assembly-line-1','assembly-line-2','assembly-line-3'].includes(line.id);\n            if (areaFilter === 'finishing') return ['finishing-line-1','finishing-line-2'].includes(line.id);\n            return true;\n          }).map((line) => {\n            // Get PCs for this line (only for finishing lines)\n            const pcsInBox = line.id.startsWith('finishing') ? pcs.filter(pc => pc.productionLine === line.id) : [];\n            // Area highlight logic\n            const isHighlighted =\n              (areaFilter === 'welding' && line.id === 'welding-line') ||\n              (areaFilter === 'assembly' && ['assembly-line-1','assembly-line-2','assembly-line-3'].includes(line.id)) ||\n              (areaFilter === 'finishing' && ['finishing-line-1','finishing-line-2'].includes(line.id));\n            return (\n              <div\n                key={line.id}\n                className={`absolute z-10 bg-opacity-30 border-2 rounded flex items-center justify-center transition-all duration-300\n                  ${line.id.includes('welding') ? 'bg-red-900 border-red-600' : line.id.includes('assembly') ? 'bg-blue-900 border-blue-600' : 'bg-green-900 border-green-600'}\n                  ${areaFilter !== 'all' && isHighlighted ? 'ring-2 ring-yellow-200' : ''}\n                  ${areaFilter !== 'all' && !isHighlighted ? 'opacity-40 grayscale' : ''}`}\n                style={{\n                  left: line.x,\n                  top: line.y,\n                  width: line.width,\n                  height: line.height,\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  textAlign: 'center',\n                  boxShadow: areaFilter !== 'all' && isHighlighted ? '0 0 8px 2px #fde68a' : 'none',\n                  transition: 'all 0.4s cubic-bezier(0.4,0,0.2,1)',\n                }}\n              >\n                {/* Render PCs inside finishing line boxes only */}\n                {line.id.startsWith('finishing') && (\n                  <div style={{position: 'relative', width: '100%', height: '100%'}}>\n                    {pcsInBox.map((pc, idx) => {\n                      // Use the exact coordinates from pcPositions object\n                      const position = pcPositions[pc.name];\n                      // Safety check - if position is undefined, skip rendering this PC\n                      if (!position) {\n                        console.warn(`No position found for PC: ${pc.name}`);\n                        return null;\n                      }\n                      return (\n                        <div key={pc.id} style={{position: 'absolute', left: position.x, top: position.y, transform: 'translate(-50%, -50%)'}}>\n                          <PCDot\n                            pc={{ ...pc, x: position.x, y: position.y }}\n                            onClick={() => handlePCClick(pc)}\n                            isSelected={selectedPC?.id === pc.id}\n                            onMouseDown={(e) => handleMouseDown(e, pc)}\n                            isDraggable={isAdmin && moveMode}\n                            moveMode={moveMode}\n                          />\n                        </div>\n                      );\n                    })}\n                  </div>\n                )}\n              </div>\n            );\n          })}\n\n          {/* Box Color Legend Dropdown as Filter */}\n          <div className=\"absolute left-1/2 transform -translate-x-1/2 bottom-4 z-50\">\n            <button\n              className=\"bg-gray-800 border border-gray-600 rounded-lg px-4 py-2 text-xs text-gray-200 font-semibold focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              onClick={() => setLegendOpen((open) => !open)}\n            >\n              {legendOpen ? 'Hide Box Color Legend' : 'Show Box Color Legend'}\n            </button>\n            {legendOpen && (\n              <div className=\"mt-2 bg-gray-800 border border-gray-600 rounded-lg p-3 text-xs flex flex-col items-start min-w-[220px] z-50\">\n                <div className=\"font-semibold text-gray-300 mb-2\">Box Color Legend</div>\n                <button className=\"flex items-center mb-1 hover:bg-gray-700 px-2 py-1 rounded w-full text-left\" onClick={() => setAreaFilter('welding')}>\n                  <div className=\"w-5 h-5 bg-red-900 border-2 border-red-600 rounded mr-2\"></div>\n                  <span className=\"text-gray-200\">Welding Line</span>\n                </button>\n                <button className=\"flex items-center mb-1 hover:bg-gray-700 px-2 py-1 rounded w-full text-left\" onClick={() => setAreaFilter('assembly')}>\n                  <div className=\"w-5 h-5 bg-blue-900 border-2 border-blue-600 rounded mr-2\"></div>\n                  <span className=\"text-gray-200\">Assembly Line</span>\n                </button>\n                <button className=\"flex items-center hover:bg-gray-700 px-2 py-1 rounded w-full text-left\" onClick={() => setAreaFilter('finishing')}>\n                  <div className=\"w-5 h-5 bg-green-900 border-2 border-green-600 rounded mr-2\"></div>\n                  <span className=\"text-gray-200\">Finishing Line</span>\n                </button>\n                <button className=\"mt-2 bg-blue-700 hover:bg-blue-800 text-white px-3 py-1 rounded w-full text-xs font-semibold\" onClick={() => setAreaFilter('all')}>Show Full Layout</button>\n              </div>\n            )}\n          </div>\n          \n          {/* Dragged PC (if being dragged) */}\n          {isDragging && draggedPC && (\n            <div\n              className=\"absolute w-4 h-4 rounded-full border-2 border-white shadow-lg cursor-grabbing opacity-75\"\n              style={{\n                left: dragPosition.x,\n                top: dragPosition.y,\n                transform: 'translate(-50%, -50%)',\n                backgroundColor: '#10b981', // Green color\n                zIndex: 1000\n              }}\n            >\n              <div className=\"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded whitespace-nowrap\">\n                Moving: {draggedPC.name}\n              </div>\n            </div>\n          )}\n          \n          {/* Confirmation Dialog */}\n          {showConfirm && (\n            <div className=\"absolute inset-0 flex items-center justify-center z-50 bg-black bg-opacity-40\">\n              <div className=\"bg-gray-900 border border-gray-600 rounded-lg p-6 text-center\">\n                <div className=\"text-white mb-4\">Do you want to save the new position?</div>\n                <button className=\"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded mr-2\" onClick={() => handleConfirm(true)}>Yes</button>\n                <button className=\"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded\" onClick={() => handleConfirm(false)}>No</button>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FloorLayout;\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}